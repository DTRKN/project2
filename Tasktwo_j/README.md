# Задача 2

Данное решение представляет собой веб-сервис на Python 3 с использованием Flask, который создает позволяет конвертировать аудио файлы wav в mp3 формат и сохраняет их в базе данных PostgreSQL. Веб-сервис реализован в контейнере Docker.

Должен быть установлен драйвер ffmpeg для конвертирования аудио файла. 

# Дополнительные команды

/view_users - Содержимое базы данных из моделей User 
/view_audio - Содержимое базы данных из моделей Audio

## Инструкции по запуску

Для запуска сервиса выполните следующие шаги:

1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. В корневой папке репозитория создайте файл `.env` со следующим содержимым:

```
POSTGRES_USER=YOUR_USER
POSTGRES_PASSWORD=YOUR_PASSWORD
POSTGRES_DB=YOUR_DB
```

3. Создайте виртуальное окружение и активируйте его:

```bash
python3 -m venv env
source env/bin/activate
```
4. Откройте терминал и перейдите в корневую папку репозитория.

```bash
git clone ...
```
5. Установите зависимости с помощью команды:

```bash
pip install -r requirements.txt
```

6. Запустите контейнеры PostgreSQL и Adminer (web-интерфейс для управления базой данных) с помощью команды:

```bash
docker-compose create
```
```bash
docker-compose up
```

Теперь вам нужно создать пользователя и отправить POST запрос на http://127.0.0.1:5000/create_user с телом запроса в формате JSON, например:

```json
{
  "name": "IVAN"
}
```
После этого вы получите token пользователя, его нужно будет сохранить, чтобы пройти аутфикацию. 
Далее отправляем запрос POST на http://127.0.0.1:5000/Adding_audio_file. Нужно вести user и token, audio файл в формате wav, находяться в Audio_files/audio_format_wav. 

```json
{
  "name": "IVAN",
  "token": "YOUR_TOKEN",
  "audio_file": "audio.wav"
}
```
После этого вы получите ссылку на аудио файл для скачивая.

